{"version":3,"sources":["/projects/nodejs/botbuilder/fdevstart/src/../src/match/ifmatch.ts"],"names":[],"mappings":";AAEA,WAAkB,gBAAgB;IAChC,6DAAW,CAAA;IACX,uDAAI,CAAA;IACJ,yDAAK,CAAA;AACP,CAAC,EAJiB,wBAAgB,KAAhB,wBAAgB,QAIjC;AAJD,IAAkB,gBAAgB,GAAhB,wBAIjB,CAAA;AAGY,oBAAY,GAAG,UAAU,CAAC;AAC1B,kBAAU,GAAG,QAAQ,CAAC;AACtB,gBAAQ,GAAG,MAAM,CAAC;AA0B9B,CAAC;AAOF,WAAmB,YAAY;IAC7B,+CAAI,CAAA;IACJ,mDAAM,CAAA;AACR,CAAC,EAHkB,oBAAY,KAAZ,oBAAY,QAG9B;AAHD,IAAmB,YAAY,GAAZ,oBAGlB,CAAA;AAKI,CAAC;AAsHN,WAAkB,cAAc;IAC9B,2DAAQ,CAAA;IACR,mEAAY,CAAA;AACd,CAAC,EAHiB,sBAAc,KAAd,sBAAc,QAG/B;AAHD,IAAkB,cAAc,GAAd,sBAGjB,CAAA","file":"match/ifmatch.js","sourcesContent":["\r\n\r\nexport const enum EnumResponseCode {\r\n  NOMATCH = 0,\r\n  EXEC,\r\n  QUERY\r\n}\r\n\r\n\r\nexport const CAT_CATEGORY = \"category\";\r\nexport const CAT_FILLER = \"filler\";\r\nexport const CAT_TOOL = \"tool\";\r\n\r\n\r\nexport interface IPromptDescription {\r\n  description: string,\r\n  type: string,\r\n  pattern: RegExp,\r\n  message: string,\r\n  default: string,\r\n  required: boolean\r\n}\r\n\r\nexport type IRecord = { [key : string] : string};\r\n\r\n\r\nexport interface IWhatIsAnswer {\r\n  sentence: ISentence,\r\n  record : IRecord,\r\n  category : string,\r\n  result: string,\r\n  _ranking : number\r\n}\r\n\r\nexport interface IMatchedSetRecord {\r\n  setId : string,\r\n  record : IRecord\r\n};\r\nexport type IMatchedSetRecords = IMatchedSetRecord[];\r\n/**\r\n * Map category -> value\r\n */\r\nexport type IMatchSet = { [key : string] : string};\r\n\r\nexport const  enum EnumRuleType {\r\n  WORD,\r\n  REGEXP\r\n}\r\n\r\nexport interface IToolSet {\r\n      set: string[],\r\n      response: string\r\n    };\r\n\r\nexport type IToolSets = {\r\n    [key: string]: IToolSet\r\n    };\r\n/**\r\n * @interface ITool\r\n *\r\n * var oTool = { 'name' : 'FLPD',\r\n *   'requires' : { 'systemId' : {}, 'client' :{}},\r\n *   'optional' : { 'catalog' : {}, 'group' :{}}\r\n * };\r\n*/\r\nexport interface ITool {\r\n  name: string,\r\n  requires: { [key: string]: Object },\r\n  optional?: { [key: string]: Object },\r\n  sets?: IToolSets\r\n}\r\n\r\nexport interface IToolMatchResult {\r\n  required: { [key: string]: IWord },\r\n  missing: { [key: string]: number },\r\n  optional?: { [key: string]: IWord },\r\n  spurious: { [key: string]: number },\r\n  toolmentioned: IWord[]\r\n}\r\n\r\nexport interface IPrompt {\r\n  text: string,\r\n  category: string\r\n}\r\n\r\nexport interface IToolMatch {\r\n  toolmatchresult: IToolMatchResult,\r\n  sentence: ISentence,\r\n  tool: ITool,\r\n  rank: number\r\n}\r\n\r\nexport interface IWord {\r\n  string: string,\r\n  matchedString: string,\r\n  category?: string,\r\n  _ranking?: number,\r\n  levenmatch?: number,\r\n  reinforce?: number\r\n}\r\n\r\nexport type ISentence = Array<IWord>;\r\n\r\nexport interface IRule {\r\n  type: EnumRuleType,\r\n  key: string,\r\n  word?: string,\r\n  regexp?: RegExp,\r\n  argsMap?: { [key: number]: string }  // a map of regexp match group -> context key\r\n  // e.g. /([a-z0-9]{3,3})CLNT([\\d{3,3}])/\r\n  //      { 1 : \"systemId\", 2 : \"client\" }\r\n  follows: context\r\n}\r\n\r\nexport interface IntentRule {\r\n  type: EnumRuleType,\r\n  regexp: RegExp,\r\n  argsMap: { [key: string]: number }  // a map of regexp match group -> context key\r\n  // e.g. /([a-z0-9]{3,3})CLNT([\\d{3,3}])/\r\n  //      { 1 : \"systemId\", 2 : \"client\" }\r\n  follows?: context\r\n}\r\n\r\n/**\r\n * A rule matching a single string\r\n */\r\nexport interface mRule {\r\n  type: EnumRuleType,\r\n  word?: string,\r\n  regexp?: RegExp,\r\n  matchedString?: string,\r\n  matchIndex?: number,\r\n  category: string,\r\n  _ranking?: number\r\n}\r\n\r\nexport interface ICategorizedString {\r\n  string: string,\r\n  matchedString: string,\r\n  category: string,\r\n  breakdown?: Array<any>\r\n  score?: number,\r\n  _ranking?: number,\r\n  levenmatch?: number  // a distance ranking\r\n}\r\n\r\nexport type context = { [key: string]: string };\r\n\r\n/**\r\n * Defines the interface for an analysis\r\n * reponse\r\n */\r\nexport interface IResponse {\r\n  rating: number,\r\n  type: EnumResponseCode,\r\n  query: string,\r\n  context: { [key: string]: string },\r\n  text: string,\r\n  action: IAction,\r\n  prompts: {\r\n    [key: string]: {\r\n      text: string,\r\n      /**\r\n       * Follows the features of NPM prompts\r\n       */\r\n      description: IPromptDescription\r\n    };\r\n  }\r\n}\r\n\r\nexport const enum EnumActionType {\r\n  STARTURL,\r\n  STARTCMDLINE\r\n}\r\n\r\nexport interface IAction {\r\n  data: any,\r\n  type: EnumActionType,\r\n  pattern: string,\r\n  concrete: string\r\n}\r\n"],"sourceRoot":"ABC"}